import { cricket_results_url } from "../../URLs/Links.js";
import * as cheerio from "cheerio";
import { aiAgent } from "../../../Agent/index.js";
import fs from "fs/promises";
import { get } from "http";

const image = [
  "ipl",
  "t20",
  "odi",
  "bcci",
  "worldcup",
  "cricket",
  "champions-trophy",
];

const prompt = `
You are given a list of cricket score articles. For each article, extract and return a structured JSON object in the following array format **without any extra text, markdown, or backticks**:

[
  {
    "title": "<title of the article>",
    "link": "<URL of the article>",
    "story_summary": ["bullet point 1", "bullet point 2", "bullet point 3", "bullet point 4", "bullet point 5"],
    "tags": ["<relevant_tag_1>", "<relevant_tag_2>", "<relevant_tag_3>"],
    "date": "<date of the article in YYYY-MM-DD format>",
    "image": "Choose the most relevant enum from the list: ${image.join(", ")}"
  }
]

Instructions:
- \`story_summary\` provide the game score summary in bullet points (6-7 points max), if game data is not available then skip this article all together.
- \`story_summary\` should be statistical, and must contain all statistical scores/details of the game if available.
- \`tags\` must be lowercase, with no spaces or special characters. Use only relevant keywords (e.g., "cricket", "ipl", "t20", "odi", "bcci", "worldcup"). Max 3 tags per article.
- story_summary should not contain any personal opinions or subjective statements that much,it should be mostly statistical. 
- Choose the most relevant enum from the list: ${image.join(", ")}
- Return only a **valid minified JSON array** ‚Äî no markdown, no backticks, no extra text or formatting.
`;

// Extracts metadata (title, link, date, image) from articles on Chess.com
const getUrlsAndHeading = async (url) => {
  const response = await fetch(url);
  const html = await response.text();
  const $ = cheerio.load(html);
  const articles = [];
  $(".cb-view-all-ga").each((_, element) => {
    const title = $(element).find("a").attr("title");
    const itemlink = $(element).find("a").attr("href");
    if (title && itemlink) {
      const link = `https://www.cricbuzz.com${itemlink}`;
      articles.push({ title, link });
    }
  });

  // Remove duplicates based on the link
  const seen = new Set();
  const uniqueArticles = articles.filter(({ link }) => {
    if (seen.has(link)) return false;
    seen.add(link);
    return true;
  });

  return uniqueArticles;
};

// Extracts full article content
const getContent = async (url) => {
  try {
    const response = await fetch(url);
    const html = await response.text();
    const $ = cheerio.load(html);
    const paragraphs = [];

    // get all text inside the div tag with class name cb-col cb-col-67 cb-nws-lft-col cb-comm-pg
    $(".cb-col.cb-col-67.cb-nws-lft-col.cb-comm-pg").each((_, element) => {
      const text = $(element).text().trim();
      if (text) {
        paragraphs.push(text);
      }
    });

    return paragraphs.join(" ");
  } catch (err) {
    console.error("‚ùå Failed to extract content from:", url, err.message);
    return null;
  }
};
const getCleanedArticles = async () => {
  const articlesMeta = await getUrlsAndHeading(cricket_results_url);
  const results = await Promise.allSettled(
    articlesMeta.map(async (article) => {
      const content = await getContent(article.link);
      if (!content){
        return null;
      } 
      return {
        title: article.title,
        link: article.link,
        content,
      };
    })
  );
  const preparedArticles = results
    .filter((res) => res.status === "fulfilled" && res.value)
    .map((res) => res.value);

  if (preparedArticles.length === 0) {
    console.error("‚ö†Ô∏è No articles to process.");
    return;
  }

  const maxRetries = 3;
  let attempt = 0;
  let success = false;
  let cleanedOutput = "";
  let lastError = null;

  while (attempt < maxRetries && !success) {
    try {
      const aiResponse = await aiAgent(preparedArticles, prompt);
      cleanedOutput = aiResponse.replace(/```json|```/g, "").trim();
      const jsonData = JSON.parse(cleanedOutput);
      await fs.writeFile("score.json", JSON.stringify(jsonData, null, 2));
      console.log("‚úÖ Article data saved to score.json");
      success = true;
    } catch (err) {
      attempt++;
      lastError = err;
      console.error(`‚ùå Attempt ${attempt} failed: ${err.message}`);
      if (attempt < maxRetries) {
        console.log("üîÑ Retrying...");
      }
    }
  }

  if (!success) {
    console.error(
      "‚ùå Failed to summarize using AI after retries:",
      lastError.message
    );
    await fs.writeFile(
      "invalid-output.txt",
      cleanedOutput || "No valid AI output received."
    );
    console.log("‚ö†Ô∏è Raw AI output saved to invalid-output.txt for debugging.");
  }
};

getCleanedArticles()

/**
 *
 *
 *
 *
 * <li class="cb-view-all-ga cb-match-card cb-bg-white"> <a title="Sunrisers Hyderabad v Gujarat Titans - 19th Match" href="/live-cricket-scores/115093/srh-vs-gt-19th-match-indian-premier-league-2025" target="_self"> <div class="cb-mtch-crd-hdr cb-font-10"> <div title="19th Match ‚Ä¢ Indian Premier League 2025" class="cb-col-90 cb-color-light-sec cb-ovr-flo">19th Match ‚Ä¢ Indian Premier League 2025</div> <div class="cb-card-match-format text-center text-white cb-mtch-frmt-bg-t20">T20</div> </div> <div> <div class="cb-hmscg-bwl-txt"><div class="cb-hmscg-tm-bat-scr cb-font-14"><div class="cb-col-50 cb-ovr-flo cb-hmscg-tm-name"><div class="cb-hmscg-tm-nm-img"><img width="18px" height="12px" src="https://static.cricbuzz.com/a/img/v1/25x18/i1/c225649/sunrisers-hyderabad.jpg" title="Sunrisers Hyderabad" class="cb-img-rad-0"></div><span title="Sunrisers Hyderabad" class="text-normal">SRH</span></div><div class="cb-ovr-flo" style="display:inline-block; width:100%;">152-8 (20)</div></div></div> <div class="cb-hmscg-bat-txt"><div class="cb-hmscg-tm-bwl-scr cb-font-14"><div class="cb-col-50 cb-ovr-flo cb-hmscg-tm-name"><div class="cb-hmscg-tm-nm-img"><img width="18px" height="12px" src="https://static.cricbuzz.com/a/img/v1/25x18/i1/c235085/gujarat-titans.jpg" title="Gujarat Titans" class="cb-img-rad-0"></div><span title="Gujarat Titans" class="text-normal">GT</span></div><div class="cb-ovr-flo" style="display:inline-block; width:100%;">105-2 (12.5)</div></div></div> <div title="Gujarat Titans need 48 runs in 43 balls" class="cb-mtch-crd-state cb-ovr-flo cb-font-12 cb-text-apple-red">Gujarat Titans need 48 runs in 43 balls</div> </div> </a> <div class="cb-col-100 cb-match-footer text-right"> <div class="cb-match-footer-body"> <div> <a class="cb-match-footer-link text-hvr-underline cb-font-10" href="/cricket-fantasy-handbook/115093/srh-vs-gt-19th-match-indian-premier-league-2025"> fantasy </a> </div> <div> <a class="cb-match-footer-link text-hvr-underline cb-font-10" href="cricket-series/9237/indian-premier-league-2025/points-table"> table </a> </div> <div> <a class="cb-match-footer-link text-hvr-underline cb-font-10" href="cricket-series/9237/indian-premier-league-2025/matches"> schedule </a> </div> </div> </div> </li>
 */

/**
 

/*





<div class="cb-col cb-col-67 cb-nws-lft-col cb-comm-pg"> <div class="cb-mini-scr-col" ng-show="!isMiniscoreRendered"> <div class="cb-col cb-col-100 cb-min-comp"> <div class="cb-col cb-col-100 cb-col-scores"> <div class="cb-col cb-col-67 cb-scrs-wrp"> <div class="cb-col cb-col-100 cb-min-tm cb-text-gray">SRH 152/8 (20)</div> <div class="cb-col cb-col-100 cb-min-tm">GT 153/3 (16.4)</div> </div> <div id="miniscore_branding" class="cb-col cb-col-33 ad-unit miniscore_branding"></div> </div> <div class="cb-col cb-col-100 cb-min-stts cb-text-complete">Gujarat Titans won by 7 wkts</div> <div class="cb-col cb-col-50 cb-mom-itm"> <span class="cb-text-gray cb-font-12">PLAYER OF THE MATCH</span><br> <a href="/profiles/10808/mohammed-siraj" class="cb-link-undrln">Mohammed Siraj</a> </div> </div></div><div ng-show="isMiniscoreRendered" ng-include="'miniscore'"></div><script id="miniscore" type="text/ng-template"><div class="cb-col cb-col-100 cb-mini-col cb-bg-white cb-min-lv" ng-show="(match.miniscore.batting.short_name != null || match.miniscore.bowling.short_name != null) && match.state!='complete'"> <div class="cb-col-100 cb-col cb-col-scores"><div class="cb-col cb-col-67 cb-scrs-wrp"><h2 class="cb-text-gray cb-font-16 text-normal" ng-bind="match.miniscore.bowling.short_name + ' ' + match.miniscore.bowling.score"></h2><div class="cb-min-bat-rw"><h2 class="cb-font-20 text-bold inline-block" ng-bind="match.miniscore.batting.short_name + ' ' + match.miniscore.batting.score"></h2><span class="cb-font-12 cb-text-gray" ng-show="match.miniscore.crr && !isFormatHundred"><span class="text-bold" ng-bind="'&nbsp;&nbsp;CRR:&nbsp;'"></span><span ng-bind="match.miniscore.crr"></span></span><span class="cb-font-12 cb-text-gray" ng-show="match.miniscore.rrr && !isFormatHundred"><span class="text-bold" ng-bind="'&nbsp;&nbsp;REQ:&nbsp;'"></span><span ng-bind="match.miniscore.rrr"></span></span><span class="cb-font-12 cb-text-gray" ng-show="match.miniscore.rpb && isFormatHundred"><span class="text-bold" ng-bind="'&nbsp;&nbsp;RPB:&nbsp;'"></span><span ng-bind="match.miniscore.rpb"></span></span><span class="cb-font-12 cb-text-gray" ng-show="match.miniscore.rrpb && isFormatHundred"><span class="text-bold" ng-bind="'&nbsp;&nbsp;RRPB:&nbsp;'"></span><span ng-bind="match.miniscore.rrpb"></span></span></div><div class="cb-text-{{match.state}}" ng-bind="match.status"></div></div><div id="miniscore_branding" class="cb-col cb-col-33 ad-unit miniscore_branding ad-native" ad-direct-call="true" ad-loaded="false" ad-has-default="false"></div></div><div class="cb-col-67 cb-col"><div class="cb-min-inf cb-col-100" ng-if="match.miniscore.batsman.length > 0"><div class="cb-col cb-col-100 cb-min-hdr-rw cb-bg-gray"><div class="cb-col cb-col-50">Batter</div><div class="cb-col cb-col-10 text-right">R</div><div class="cb-col cb-col-10 text-right">B</div><div class="cb-col cb-col-8 text-right">4s</div><div class="cb-col cb-col-8 text-right">6s</div><div class="cb-col cb-col-14 text-right">SR</div></div><div class="cb-col cb-col-100 cb-min-itm-rw" ng-repeat="batsmen in match.miniscore.batsman"><div class="cb-col cb-col-50"><a class="cb-text-link" ng-href="{{batsmen.profileUrl}}" ng-bind="batsmen.batName" class=""></a><span ng-if="$first" ng-bind="' *'"></span></div><div class="cb-col cb-col-10 ab text-right" ng-bind="batsmen.batRuns"></div><div class="cb-col cb-col-10 ab text-right" ng-bind="batsmen.batBalls"></div><div class="cb-col cb-col-8 ab text-right" ng-bind="batsmen.batFours"></div><div class="cb-col cb-col-8 ab text-right" ng-bind="batsmen.batSixes"></div><div class="cb-col cb-col-14 text-right" ng-bind="batsmen.batStrikeRate|number: 2"></div></div></div><div class="cb-min-inf cb-col-100" ng-if="match.miniscore.bowler.length > 0"><div class="cb-col cb-col-100 cb-min-hdr-rw cb-bg-gray" ng-if="!isFormatHundred"><div class="cb-col cb-col-50">Bowler</div><div class="cb-col cb-col-10 text-right">O</div><div class="cb-col cb-col-8 text-right">M</div><div class="cb-col cb-col-10 text-right">R</div><div class="cb-col cb-col-8 text-right">W</div><div class="cb-col cb-col-14 text-right">ECO</div></div><div class="cb-col cb-col-100 cb-min-hdr-rw cb-bg-gray" ng-if="isFormatHundred"><div class="cb-col cb-col-50">Bowler</div><div class="cb-col cb-col-10 text-right">B</div><div class="cb-col cb-col-8 text-right">D</div><div class="cb-col cb-col-10 text-right">R</div><div class="cb-col cb-col-8 text-right">W</div><div class="cb-col cb-col-14 text-right">RPB</div></div><div class="cb-col cb-col-100 cb-min-itm-rw" ng-repeat="bowler in match.miniscore.bowler" ><div class="cb-col cb-col-50"><a class="cb-text-link" ng-href="{{bowler.profileUrl}}" ng-bind="bowler.bowlName"></a><span ng-if="$first">&nbsp;*</span></div><div class="cb-col cb-col-10 text-right" ng-bind="bowler.bowlOvs" ng-if="!isFormatHundred"></div><div class="cb-col cb-col-8 text-right" ng-bind="bowler.bowlMaidens" ng-if="!isFormatHundred"></div><div class="cb-col cb-col-10 text-right" ng-bind="bowler.bowlBalls" ng-if="isFormatHundred"></div><div class="cb-col cb-col-8 text-right" ng-bind="bowler.bowlDots" ng-if="isFormatHundred"></div><div class="cb-col cb-col-10 text-right" ng-bind="bowler.bowlRuns"></div><div class="cb-col cb-col-8 text-right" ng-bind="bowler.bowlWkts"></div><div class="cb-col cb-col-14 text-right" ng-bind="bowler.bowlEcon|number: 2" ng-if="!isFormatHundred"></div><div class="cb-col cb-col-14 text-right" ng-bind="bowler.runsPerBall|number: 2" ng-if="isFormatHundred"></div></div></div></div><div class="cb-col cb-col-33 cb-key-st-lst"><div class="cb-key-lst-wrp cb-font-12 cb-text-gray"><div class="cb-min-hdr-rw cb-bg-gray" ng-bind="'Key Stats'"></div><div class="cb-min-itm-rw" ng-show="match.miniscore.partnership.balls > 0"><span class="text-bold" ng-bind="'Partnership:&nbsp;'"></span><span ng-bind="match.miniscore.partnership.runs+'('+match.miniscore.partnership.balls+')'"></span></div><div class="cb-min-itm-rw" ng-show="match.miniscore.last_wicket"><span class="text-bold" ng-bind="'Last Wkt: '"></span><span ng-bind="match.miniscore.last_wicket"></span></div><div class="cb-min-itm-rw" ng-show="match.miniscore.overs_left"><span class="text-bold" ng-bind="'Ovs Left: '"></span><span ng-bind="match.miniscore.overs_left"></span></div><div class="cb-min-itm-rw" ng-show="match.miniscore.latestPerformance != null"><span class="text-bold" ng-bind="match.miniscore.latestPerformance.label+': '"></span><span ng-bind="match.miniscore.latestPerformance.runs + ' runs, ' + match.miniscore.latestPerformance.wkts + ' wkts'"></span></div><div class="cb-min-itm-rw" ng-show="match.toss.tossWinnerName"><span class="text-bold" ng-bind="'Toss: '"></span><span ng-bind="match.toss.tossWinnerName + '&nbsp;(' + match.toss.decision + ')'"></span></div></div></div><div class="cb-col cb-col-100 cb-comm-rcnt-wrap"><div class="cb-col cb-col-100"><div class="cb-col cb-col-100 cb-font-12 cb-text-gray cb-min-rcnt" ng-if="match.miniscore.previous_overs_string"><span class="text-bold" ng-bind="'Recent: '" ></span><span ng-bind="match.miniscore.previous_overs_string"></span><a onclick="attach_recaptcha_js();modal_toggle('hys_modal', 'block');" class="cb-cursor text-bold cb-text-link pull-right">Have Your Say</a></div></div></div></div><div class="cb-col cb-col-100 cb-mini-col cb-min-comp" ng-show="match.state == 'complete'"><div class="cb-col cb-col-100 cb-col-scores"><div class="cb-col cb-col-67 cb-scrs-wrp"><h2 class="cb-col cb-col-100 cb-min-tm cb-text-gray" ng-show="match.miniscore.bowling.score" ng-bind="match.miniscore.bowling.short_name + ' ' + match.miniscore.bowling.score"></h2><h2 class="cb-col cb-col-100 cb-min-tm" ng-show="match.miniscore.batting.score" ng-bind="match.miniscore.batting.short_name + ' ' + match.miniscore.batting.score"></h2></div><div id="miniscore_branding" class="cb-col cb-col-33 ad-unit miniscore_branding ad-native" ad-direct-call="true" ad-loaded="false" ad-has-default="false"></div></div><div class="cb-col cb-col-100 cb-min-stts cb-text-{{match.state}}" ng-bind="match.status"></div><div class="cb-col cb-col-50 cb-mom-itm" ng-repeat="mom in match.mom"><span class="cb-text-gray cb-font-12">PLAYER OF THE MATCH</span><br><a ng-href="{{mom.profileUrl}}" ng-bind="mom.fullName" class="cb-link-undrln"></a></div><div class="cb-col cb-col-50 cb-mom-itm" ng-repeat="mos in match.mos"><span class="cb-text-gray cb-font-12">PLAYER OF THE SERIES</span><br><a ng-href="{{mos.profileUrl}}" ng-bind="mos.fullName" class="cb-link-undrln"></a></div></div></script><div class="cb-col cb-col-100 cb-comm-static"><div id="text_link_container" class="cb-ad-unit cb-col cb-col-100 bg-white ad-native ng-cloak" ad-direct-call="true" ad-loaded="false" ad-has-default="true" ad-repetitive-index="native_commentary_text_link" ad-content="<a rel=&quot;nofollow noreferrer&quot; href=&quot;[[clk]]&quot; target=&quot;_blank&quot; class=&quot;ad-plugin cb-comm-static-anchr&quot;>[[title]]<img src=&quot;[[logo]]&quot; height =&quot;14px&quot; style=&quot;margin-left:10px;&quot;/></a>" style="min-height:31px;"><span class="ad-comm-text-links"></span></div></div><style>.cb-min-vid{background: #000; color:#fff; padding:5px; height:54px; overflow: hidden; margin:0px -10px 0 0;}</style> <div ng-show="!isCommentaryRendered"> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> So, three wins in a row for GT has propelled them to the second position on the table and today's big win has also enhanced their net run-rate. Shubman Gill finding his mojo back tonight augurs well for them. They certainly have a terrific top-order. Their bowling also has the variety and penetration to outsmart oppositions. SRH, on the other hand, continue to languish at the bottom of the table. They started off their campagin with a win but it has all gone pear-shaped for them since then. Four losses on the trot is a serious concern. That's all from our side for tonight. Join us tomorrow for the clash between MI and RCB from the Wankhede Stadium. Until next time, goodbye and cheers!</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Mohammed Siraj | Player of the Match:</b> When you come to your home ground, it's a special feeling. My family was there in the crowd and that lifted me up. I have played for seven years for RCB. I have worked hard on my bowling and also on my mindset, it's working really well for me. At one time, I was not able to digest it (having not been picked for Champions Trophy) but I kept my spirits up and worked on my fitness and game. Whatever mistakes I was making, I worked on those and I'm enjoying my bowling. As a professional, when you are consistently with the Indian team, a doubt grows in your mind (on him being dropped) but I cheered myself up and was looking forward to the IPL. When you execute what you are trying to deliver, you stay at the top. When you move the ball both in and out and it works instinctively, it gives you a different feeling.</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Shubman Gill | GT captain:</b> Bowlers are game-changers especially in this format, lot of people talk about big-hitters but bowlers win you games. We wanted to play shots all along the ground, that was the chat between me and Washington Sundar. He (Sundar) was padded up in the match against MI but with the Impact player rule, you have to change your plans at times. The way he batted today was fantastic. There was no conversation as such, it was all about playing good cricketing shots and once we had a 30-40 run partnership, it was taking the game from there. The energy he (Mohammed Siraj) brings during bowling and fielding is infectious.</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Washington Sundar:</b> It is better of you calling all the adjectives. Skipper told me to bat as deep as possible and wanted to finish the game for my team. This has been the trend in Hyderabad in the last few years, the wicket gets a little better so easier to chase 160-170. I was aware if it and it helped me. Coach asked me to go in at 4 especially after we lost a couple of wickets in the early overs, rare opportunity for me and I loved my time in the middle.</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Pat Cummins | SRH captain:</b> Was a bit skinny, but the Hyderabad wicket is a bit tough. A few early wickets and you are in the game. It didn't spin much, there was a little dew around, but they batted really well. Their pace bowling was tough to play against today.</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Fourth successive win for GT against SRH</b></p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>22:56 Local Time, 17:26 GMT, 22:56 IST:</b> It has been a perfectly controlled run-chase from GT after they lost two early wickets within the powerplay. SRH would have thought that 152 was a competitive total at the halfway stage but it has ended up being well below-par. Perhaps, the pitch also seemingly played much better in the second innings but credit has to be given to Gill &amp; Co. for a great show with the bat. None of the SRH batters went onto score something substantial. Cummins played a quickfire cameo at the fag end to keep his side in with a chance. Siraj stole the limelight with a 4-fer for the visitors. A rare failure for Sudharsan and a duck from Buttler heightened the home side's hopes but after that, Gill and Sundar got together and mixed caution with aggression to perfection. The southpaw was especially aggressive and took the bowlers on to transfer pressure back on the hosts. Gill played the perfect foil to him as he kept the scoreboard ticking and raised a fifty of his own. Sundar fell on 49 courtesy a debatable call from the third umpire as he was caught near the boundary by Aniket. But, Gill kept going strong and took the game further away from SRH. Rutherford came in as the Impact player and hit some lusty blows to seal the deal. GT got over the line with 20 balls to spare...</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">16.4</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Cummins to Shubman Gill, 1 run, <b>that's the game for GT!</b> As easy as you like! A back of a length ball on middle and leg, Shubman Gill works it through square leg for a single. Big smiles in the GT camp as they cruise home comfortably</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">16.3</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Cummins to Rutherford, 1 run,<b> the scores are level now!</b> A slower full ball on middle and leg, Rutherford eases it towards long-on</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">16.2</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Cummins to Rutherford, <b>FOUR</b>, deft from Rutherford! A slower back of a length ball angling in from outside off, Rutherford waits for it and guides it delicately past the left side of short third to get the desired result</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Mradul</b>: The most boring IPL without a doubt. Not a single interesting match so far...</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">16.1</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Cummins to Rutherford, <b>SIX</b>, going, going and gone! A back of a length ball outside off, Rutherford picks the length up in a jiffy and pulls it with authority into the deep mid-wicket stands for a <b>91m maximum.</b> Shubman Gill has a beaming smile on his face</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Pat Cummins [3.0-0-14-1] is back into the attack</b></p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Timeout!</b> The game is almost done and dusted. Gill has played a captain's knock tonight and he will be eyeing to take his side over the line comfortably. The SRH bowlers have been off-colour barring the initial phase of the innings and that has cost them.</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">15.6</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Zeeshan Ansari to Rutherford, 1 run, the googly on a back of a length around leg-stump, Rutherford waits for it and tucks it to mid-wicket for a quick single</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">15.5</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Zeeshan Ansari to Shubman Gill, 1 run, quicker through the air and full on off, Shubman Gill drives it with an open bat-face to deep point</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">15.4</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Zeeshan Ansari to Shubman Gill, <b>FOUR</b>, SRH contiinue to leak runs! A loopy full ball outside off, Shubman Gill clears his front leg and goes inside out over extra cover with a beautiful chip shot. Sweeper cover moves to his right but has no chance to stop it</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">15.3</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Zeeshan Ansari to Shubman Gill, <b>FOUR</b>, Shubman Gill continues to be in cruise control! Tossed up full ball on off, Shubman Gill kneels down on one knee and sweeps it nicely through square leg. Long leg has no chance to stop it</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">15.2</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Zeeshan Ansari to Shubman Gill, no run, on a back of a length on middle and off, Shubman Gill punches it to the left of Zeeshan Ansari</p> </div> <div class="cb-col cb-col-100"> <div class="cb-col cb-col-8 text-bold"> <div title="" class="cb-mat-mnu-wrp cb-ovr-num">15.1</div> </div> <p class="cb-com-ln cb-col cb-col-90"> Zeeshan Ansari to Rutherford, 1 run, tossed up on a length on off, Rutherford plays it with soft hands through mid-wicket</p> </div> <div class="cb-col cb-col-100"> <p class="cb-com-ln cb-col cb-col-100"> <b>Zeeshan Ansari [3.0-0-22-0] is back into the attack</b></p> </div> </div> <div id="hys_modal" class="cb-modal-open disp-none"> <div class="cb-modal-background" onclick="modal_toggle('hys_modal', 'none');"></div><div class="cb-col cb-col-100 cb-expt-cmnt-mdl-wrp"><div class="cb-col cb-col-100 cb-stats-dark-bg text-white cb-hys-bar"><a onclick="modal_toggle('hys_modal', 'none');" class="cb-cursor text-white pull-right text-bold cb-hys-cls" title="close">X</a><div class="cb-font-18 text-black text-bold">Have Your Say</div><div class="cb-font-14">Best comments will be published by our commentators</div></div><div class="cb-col-100 cb-col cb-bg-gray" style="padding:10px 15px;" id="expertComments" ng-controller="expertComments"><div class="disp-none text-green" id="success_form">Thanks for having your say.</div><div class="disp-none text-red" id="error_form">There are errors in the submitted form.</div><div class="disp-none text-red" id="inapt_content">Inappropriate content used!</div><form name="form" id="HUS-form" novalidate="" method="post"><div class="cb-col cb-col-100 cb-mat-mnu-wrp"><label for="Name">Name</label><input type="name" ng-model="user.name" name="uName" class="cb-col form-control cb-car-inp" id="cb-contact-name" ng-minlength="2" ng-maxlength="50" placeholder="Name" ng-pattern="/^[a-zA-Z ']*$/" required=""><div ng-show="form.$submitted || form.uName.$touched"><div ng-show="form.uName.$error.required" class="text-red">Name is required.</div> <div ng-show="form.uName.$error.maxlength" class="text-red">Name should be maximum of 50 characters.</div> <div ng-show="form.uName.$error.minlength" class="text-red">Name should be minimum of 2 characters.</div> <div ng-show="form.uName.$error.pattern" class="text-red">This is not a valid Name.</div></div></div><div class="cb-col cb-col-100 cb-mat-mnu-wrp"><label for="Message">Comment</label><textarea class="cb-col form-control cb-car-inp cb-txtarea" ng-model="user.comment" name="uComment" rows="3" maxlength="300" placeholder="Your Comment (maximum 300 characters)" required=""></textarea><div class="cb-col cb-col-100 cb-text-gray cb-font-12 cb-sub-opning" ng-bind="((user.comment.length)?user.comment.length:0 ) + '/300' "></div><div ng-show="form.$submitted || form.uComment.$touched"><div ng-show="form.uComment.$error.required" class="text-red">Comment is required.</div></div></div><div class="cb-col cb-col-100 cb-mat-mnu-wrp"> <div class="g-recaptcha" data-sitekey="6LfIRQsTAAAAAI8hPYGZ2WmPkBlrRhPLuPl6W6Zo"></div><div id="catpcha_error_msg" class="disp-none text-red">Please validate the captcha</div><div class="cb-mr-btn-mar cb-col cb-col-20"><button type="submit" ng-click="have_your_say(user)" class="cb-more-btn">Submit</button> </div> <div ng-show="show_loader" class=" cb-col cb-col-20 cb-loader-align"> <div class="spinner"></div> </div></div></form></div></div></div> <div ng-show="isCommentaryRendered"><div ng-init="carouselVideos = match.carouselVideos;carouselVideoid = match.carouselVideoid" ng-include="'carousel_videos'"></div> <time ng-if="match.last_update_time &amp;&amp; match.series.category == 'Domestic'" datetime="{{match.last_update_time| date:'yyyy-MM-dd'+'T'+'HH:mm:ss': 'UTC' }}Z" class="cb-text-italic text-gray cb-font-12 cb-col cb-col-100 text-right" ng-bind="'Last Updated:' + (match.last_update_time|date:' dd MMM, yyyy, HH:mm')"></time> <div ng-repeat="ts in match.timestamps" ng-init="comm = match.commentary" ng-include="'commentary'"></div><div ng-repeat="ts in match.full_commentary.timestamps" ng-init="comm = match.full_commentary.commentary" ng-include="'commentary'"></div> </div><script id="carousel_videos" type="text/ng-template"><div class="cb-col cb-col-100" ng-if="carouselVideoid.length > 0"><div class="cb-col cb-col-100"> <h2 class="cb-cat-head-text" style="float:left;">Match Videos</h2> <a ng-href="{{match.get_match_videos_url()}}" class="cb-float-right cb-font-14 cb-vid-more text-capital cb-text-gray" style="padding:0 5px 0 0;">View All <span class="cb-font-18">‚Ä∫</span></a> </div><div class="videos-list-carousal cb-col cb-col-100" total="{{carouselVideoid.length}}" minlength="4" style="height:110px;"><ul class="cb-col cb-col-100 videos-carousal-wrapper"><li ng-repeat="Videoid in carouselVideoid" class="cb-col cb-col-25 cb-mr-top-5 videos-carousal-item" style="padding:0 5px 0 0;"> <a ng-href="{{carouselVideos[Videoid].video_url()}}" class="cb-vid-ancr lazy-loading"><div class="cb-pos-rel"><div ng-if="carouselVideos[Videoid].isLive"><div class="cb-vid-liv-icn">LIVE</div></div><img class="cb-suggested-vid-img cb-plus-trending-img" height="90" width="160" ng-src="{{carouselVideos[Videoid].image_url()}}"><span ng-if="carouselVideos[Videoid].planId && carouselVideos[Videoid].isPremiumFree === 0 " class="cb-plus-ico cb-ico-premium cb-plus-no-free-lst-itm"></span><div ng-if="carouselVideos[Videoid].planId && carouselVideos[Videoid].isPremiumFree" class="cb-plus-icon-flex-box cb-plus-flex-lst-itm"><span class="cb-plus-ico cb-ico-premium"></span><div class="cb-plus-free-tag">Free</div></div></div><div class="cb-comm-carousel-icon-text-wrap cb-bkg-lin-grad"><div class="disp-flex cb-align-center"><div ng-if="carouselVideos[Videoid].videoType == 'Fantasy Handbook'" class="cb-plus-ico cb-white-trophy-icon" style="transform: scale(.6); width:50%;"></div><div ng-if="carouselVideos[Videoid].videoType != 'Fantasy Handbook'" class="text-white">&#9654;</div><span class="cb-font-11 cb-text-white cb-text-truncate" ng-bind-html="carouselVideos[Videoid].headline_comm"></span></div> </div></a></li></ul></div></div><div ng-repeat="adsType in adsTypes" id="{{adsType + '-' + matchId}}"></div></script> <script id="commentary" type="text/ng-template"><div class="cb-com-ovr-sum cb-col" ng-if="comm[ts].evt.includes('hun-overbreak') && isFormatHundred"><div id="plugin_container_{{ts}}" class="cb-ad-unit cb-col cb-col-100 cb-com-ovr-sum-ad ad-native ng-cloak" ad-direct-call="true" ad-loaded="false" ad-has-default="true" ad-repetitive-index="native_commentary_plugin" ad-content='<a href="[[clk]]" target="_blank" rel ="nofollow" timestamp="{{ts}}" class="ad-plugin cb-comm-static-anchr cb-comm-static-anchr well well-sm col-xs-12 col-md-12 cb-ovr-brk-well cb-font-14">[[title]]<img src="[[logo]]" class="pull-right"/></a>' over_num="{{comm[ts].o_no}}" ng-if="(comm[ts].exclude_geo == null || comm[ts].exclude_geo.indexOf($root.$GEO.country) == -1)" timestamp="{{ts}}"></div></div> <div class="cb-com-ovr-sum cb-col" ng-if="comm[ts].evt.includes('over-break') && !isFormatHundred"><div id="plugin_container_{{ts}}" class="cb-ad-unit cb-col cb-col-100 cb-com-ovr-sum-ad ad-native ng-cloak" ad-direct-call="true" ad-loaded="false" ad-has-default="true" ad-repetitive-index="native_commentary_plugin" ad-content='<a href="[[clk]]" target="_blank" rel ="nofollow" timestamp="{{ts}}" class="ad-plugin cb-comm-static-anchr cb-comm-static-anchr well well-sm col-xs-12 col-md-12 cb-ovr-brk-well cb-font-14">[[title]]<img src="[[logo]]" class="pull-right"/></a>' over_num="{{comm[ts].o_no}}" ng-if="(comm[ts].exclude_geo == null || comm[ts].exclude_geo.indexOf($root.$GEO.country) == -1)" timestamp="{{ts}}"></div><div ng-if="comm[ts].over_seperator" class="cb-col cb-col-100 cb-com-ovr-sum-rw cb-font-12"><div class="cb-col cb-col-8 cb-com-ovr-sum-itm cb-font-18 text-bold" ng-bind="comm[ts].o_no|number:0" style='min-height:33px;'></div><div class="cb-col cb-col-25 cb-com-ovr-sum-itm"><div>Runs Scored: <span class="text-bold" ng-bind="comm[ts].over_seperator.runs"></span></div><div class="text-bold" ng-bind="comm[ts].over_seperator.o_summary"></div></div><div class="cb-col cb-col-25 cb-com-ovr-sum-itm"><div ng-bind="'Score after ' + (comm[ts].o_no|number:0) + ' overs'"></div><div class="text-bold" ng-bind="comm[ts].over_seperator.batTeamName + ' ' + comm[ts].over_seperator.score + '-' + comm[ts].over_seperator.wickets"></div></div><div class="cb-col cb-col-25 cb-com-ovr-sum-itm"><div class="cb-col cb-col-67" ng-bind="comm[ts].over_seperator.batStrikerNames[0]"></div><div class="cb-col cb-col-33 text-right" ng-bind="' ' + comm[ts].over_seperator.batStrikerRuns + '(' + comm[ts].over_seperator.batStrikerBalls +')'"></div><div class="cb-col cb-col-67" ng-bind="comm[ts].over_seperator.batNonStrikerNames[0]"></div><div class="cb-col cb-col-33 text-right" ng-bind="' ' + comm[ts].over_seperator.batNonStrikerRuns + '(' + comm[ts].over_seperator.batNonStrikerBalls +')'"></div></div><div class="cb-col cb-col-17 cb-com-ovr-sum-itm"><div ng-bind="comm[ts].over_seperator.bowlNames[0]" title="{{comm[ts].over_seperator.bowlNames[0]}}"></div><div ng-bind="' ' + comm[ts].over_seperator.bowlOvers + '-' + comm[ts].over_seperator.bowlMaidens + '-'+ comm[ts].over_seperator.bowlRuns + '-'+ comm[ts].over_seperator.bowlWickets"></div></div></div></div><div id="comm_{{comm[ts].timestamp}}" class="cb-col cb-col-100"><div ng-repeat="event in comm[ts].event_plugin" ng-if="comm[ts].event_plugin.length > 0"><div id="plugin_{{event}}_{{ts}}" class="cb-native-plugin-event ad-native ng-cloak" ad-repetitive-index="native_{{event}}_plugin" ad-direct-call="true" ad-loaded="false" ad-has-default="false" style="dislay:none;" ng-if="(comm[ts].exclude_geo == null || comm[ts].exclude_geo.indexOf($root.$GEO.country) == -1)" timestamp="{{ts}}"></div></div><div ng-if="comm[ts].o_no > 0 || comm[ts].ball_no > 0 || ( comm[ts].videoId != null && comm[ts].evt.indexOf('Plugin') < 0)" class="cb-col cb-col-8 text-bold"><div ng-bind="comm[ts].o_no" ng-if="comm[ts].o_no > 0 && !isFormatHundred" title="{{comm[ts].timestamp | date:'medium'}}" class="cb-mat-mnu-wrp cb-ovr-num"></div><div ng-bind="comm[ts].ball_no" ng-if="comm[ts].ball_no > 0 && isFormatHundred" title="{{comm[ts].timestamp | date:'medium'}}" class="cb-mat-mnu-wrp cb-ovr-num"></div><label class="kaltura-player cb-cursor" uiconf_id="32458402" entry_id="{{comm[ts].videoId}}" ng-if="($root.$GEO.country != 'US' && $root.$GEO.country != 'CA') && comm[ts].videoId != null"><div class="cb-comm-vid-brdr"><div class="cb-comm-vid-play" >&#9658;</div></div></label><label class="kaltura-player cb-cursor" uiconf_id="31675141" entry_id="{{comm[ts].videoId}}" ng-if="comm[ts].videoId && ($root.$GEO.country == 'US' || $root.$GEO.country == 'CA')"><div class="cb-comm-vid-brdr"><div class="cb-comm-vid-play">&#9658;</div></div></label><div class="video-embed-player cb-cursor" video_id="{{comm[ts-1].videoId}}" video_url="{{comm[ts-1].cbvideoId}}" onclick="toggle_video_modal(this, 'block');" ng-if="comm[ts-1].show_video && comm[ts-1].matchVideo"><div class="cb-comm-vid-brdr"><div class="cb-comm-vid-play" >&#9658;</div></div></div><a target="_blank" href="{{comm[ts-1].videoUrl}}" ng-if="!comm[ts-1].show_video && comm[ts-1].matchVideo"><div class="cb-comm-vid-brdr"><div class="cb-comm-vid-play" >&#9658;</div></div></a></div><p ng-bind-html="comm[ts].comm" class="cb-com-ln" ng-class = "get_comm_class(comm[ts]) " ng-hide="comm[ts].geo != null && comm[ts].geo.length > 0 && comm[ts].geo.indexOf($root.$GEO.country) == -1" ng-if="comm[ts].evt != 'Plugin:news' && comm[ts].evt != 'Plugin:video' && comm[ts].evt != 'Plugin:comments'"></p><div style="clear: both;"></div><p class="kaltura-embed cb-font-14 cb-comm-text cb-col cb-col-90 plugin-video" uiconf_id="33630912" entry_id="{{comm[ts].videoId}}" ng-if="comm[ts].videoId && comm[ts].evt == 'Plugin:video' && !comm[ts].videoId" style="height:320px;margin:0 0 0 50px;"></p><div class="cb-col cb-col-100 cb-bg-grey cb-plgn-nws-ancr cb-nws-plgn-wrp cb-pos-rel" ng-if="comm[ts].cbvideoId && comm[ts].evt == 'Plugin:video' && comm[ts].show_video && !comm[ts].matchVideo"><p ng-bind-html="comm[ts].comm" class="cb-com-ln" ng-if="comm[ts].comm != null"></p><div class="video-embed-player" video_id="{{comm[ts].videoId}}" video_url="{{comm[ts].cbvideoId}}" onclick="toggle_video_modal(this, 'block');" > <div ng-include="'video-img'"></div></div> <div ng-draggable id="commentary-video-{{comm[ts].videoId}}" class="disp-none cb-comm-video-modal" class="ng-cloak"> <div> <p class="cb-com-ln cb-video-modal-title">Cricbuzz Video</p> <span video_id="{{comm[ts].videoId}}" class="pull-right cb-video-close-btn" onclick="toggle_video_modal(this, 'none');">&times;</span> </div> <p id="video-container-{{comm[ts].videoId}}" class="video-container cb-font-14 cb-comm-text cb-col cb-col-100 plugin-video" style="max-height:321px;margin:0;"></p> <div class="cb-col cb-col-100 cb-embed-video" style="padding: 5px 0;"><a target="_blank" href="https://twitter.com/intent/tweet?url=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}&via=cricbuzz" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"><span class="vertical-align-top cb-twtr-gray cb-ico cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter">Tweet</span></a><a target="_blank" href="https://www.facebook.com/sharer.php?u=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"><span class="vertical-align-top cb-ico cb-fb-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB">Share</span></a><a href="javascript:void(0)" class="inline-block cb-video-social-link cb-social-share" container="video_modal" copy-to-clipboard = "https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}-img" gtm-title="URL"><span class="vertical-align-top cb-ico cb-copy-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}-img" gtm-title="URL"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}-img" gtm-title="URL">Copy URL</span></a><span id="copy-message-pip{{comm[ts].cbvideoId.split('/')[0]}}-img" class="copyMessage" style="display:none;">Video URL copied to clipboard</span></div> </div><div class="cb-col cb-col-100 cb-embed-video"><a target="_blank" href="https://twitter.com/intent/tweet?url=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}&via=cricbuzz" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"><span class="vertical-align-top cb-twtr-gray cb-ico cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter">Tweet</span></a><a target="_blank" href="https://www.facebook.com/sharer.php?u=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"><span class="vertical-align-top cb-ico cb-fb-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB">Share</span></a><a href="javascript:void(0)" class="inline-block cb-video-social-link cb-social-share" copy-to-clipboard = "https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="URL"><span class="vertical-align-top cb-ico cb-copy-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="URL"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="URL">Copy URL</span></a><span id="copy-message{{comm[ts].cbvideoId.split('/')[0]}}" class="copyMessage" style="display:none;">Video URL copied to clipboard</span></div></div><div class="cb-col cb-col-100 cb-mr-bottom-10 cb-pos-rel" ng-if="comm[ts].cbvideoId && comm[ts].evt == 'Plugin:video' && comm[ts].show_video && comm[ts].matchVideo"><div class="video-embed-player" video_id="{{comm[ts].videoId}}" video_url="{{comm[ts].cbvideoId}}" onclick="toggle_video_modal(this, 'block');" ng-if="comm[ts].matchVideo"> <div ng-include="'video-img'"></div></div> <div ng-draggable id="commentary-video-{{comm[ts].videoId}}" class="disp-none cb-comm-video-modal" class="ng-cloak"> <div> <p class="cb-com-ln cb-video-modal-title">Cricbuzz Video</p> <span video_id="{{comm[ts].videoId}}" class="pull-right cb-video-close-btn" onclick="toggle_video_modal(this, 'none');">&times;</span> </div> <p id="video-container-{{comm[ts].videoId}}" class="video-container cb-font-14 cb-comm-text cb-col cb-col-100 plugin-video" style="max-height:321px;margin:0;"></p> <div class="cb-col cb-col-100 cb-embed-video" style="padding: 5px 0;"><a target="_blank" href="https://twitter.com/intent/tweet?url=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}&via=cricbuzz" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"><span class="vertical-align-top cb-twtr-gray cb-ico cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter">Tweet</span></a><a target="_blank" href="https://www.facebook.com/sharer.php?u=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"><span class="vertical-align-top cb-ico cb-fb-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB">Share</span></a><a href="javascript:void(0)" class="inline-block cb-video-social-link cb-social-share" container="video_modal" copy-to-clipboard = "https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}-img" gtm-title="URL"><span class="vertical-align-top cb-ico cb-copy-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}-img" gtm-title="URL"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}-img" gtm-title="URL">Copy URL</span></a><span id="copy-message-pip{{comm[ts].cbvideoId.split('/')[0]}}-img" class="copyMessage" style="display:none;">Video URL copied to clipboard</span></div> </div></div><div class="cb-col cb-col-100 cb-bg-grey cb-plgn-nws-ancr cb-nws-plgn-wrp cb-pos-rel" ng-if="comm[ts].cbvideoId && comm[ts].evt == 'Plugin:video' && !comm[ts].show_video && !comm[ts].matchVideo"><p ng-bind-html="comm[ts].comm" class="cb-com-ln" ng-if="comm[ts].comm != null"></p><a ng-target="comm[ts].videoType == 'Fantasy Handbook' ? '': '_blank'" href="{{comm[ts].videoUrl}}"><div ng-include="'video-img'"></div></a><div class="cb-col cb-col-100 cb-embed-video"><a target="_blank" href="https://twitter.com/intent/tweet?url=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}&via=cricbuzz" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"><span class="vertical-align-top cb-twtr-gray cb-ico cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="Twitter">Tweet</span></a><a target="_blank" href="https://www.facebook.com/sharer.php?u=https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}&text={{comm[ts].comm}}" rel="noreferrer" class="inline-block cb-video-social-link cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"><span class="vertical-align-top cb-ico cb-fb-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="FB">Share</span></a><a href="javascript:void(0)" class="inline-block cb-video-social-link cb-social-share" copy-to-clipboard = "https://www.cricbuzz.com/cricket-videos/{{comm[ts].cbvideoId}}" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="URL"><span class="vertical-align-top cb-ico cb-copy-gray cb-social-share" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="URL"></span><span class="cb-font-12 cb-social-share poll-opt" gtm-label="{{comm[ts].cbvideoId.split('/')[0]}}" gtm-title="URL">Copy URL</span></a><span id="copy-message{{comm[ts].cbvideoId.split('/')[0]}}" class="copyMessage" style="display:none;">Video URL copied to clipboard</span></div></div><div class="cb-col cb-col-100 cb-pos-rel cb-mr-bottom-10" ng-if="comm[ts].cbvideoId && comm[ts].evt == 'Plugin:video' && !comm[ts].show_video && comm[ts].matchVideo && comm[ts].videoType == 'Wicket'"><a ng-target="comm[ts].videoType == 'Fantasy Handbook' ? '': '_blank'" href="{{comm[ts].videoUrl}}"><div ng-include="'video-img'"></div></a></div><div class="cb-col cb-col-100 cb-nws-plgn-wrp cb-pos-rel" ng-if="comm[ts].evt == 'Plugin:news'" class="cb-com-ln" ng-class = "get_comm_class(comm[ts])" ng-hide="comm[ts].geo != null && comm[ts].geo.length > 0 && comm[ts].geo.indexOf($root.$GEO.country) == -1"><p ng-bind-html="comm[ts].comm" class="cb-com-ln cb-com-ln-nws" ng-if="comm[ts].comm != null && comm[ts].comm != ''"></p><a class="cb-font-14 cb-col cb-col-100 cb-bg-grey cb-plgn-nws-ancr" href="{{comm[ts].newsURL}}" target="_blank"><div class="cb-col cb-col-100"><div class="cb-col cb-col-25" ng-if="comm[ts].imageId != null" ng-init="imgurl= '/a/img/v1/135x90/i1/c'+comm[ts].imageId+'/image.jpg'"><img class="disp-blck" ng-src="{{imgurl}}"></div><div ng-class="{'cb-col-70': comm[ts].planId && comm[ts].planId > 0}" class="cb-col cb-col-75 pad-lft-5" ng-if="comm[ts].content != null"><div class="cb-col cb-text-link text-bold cb-plgn-nws-hdln padbot5" ng-bind="comm[ts].headline"></div><div class="cb-col cb-text-gray padbot5" ng-bind="comm[ts].content" ng-if="comm[ts].content != null"></div><div class="cb-col cb-text-gray cb-font-12"><span ng-bind="comm[ts].author" ng-if="comm[ts].author != null"></span><span class="cb-dot" ng-if="comm[ts].author != null && comm[ts].publishTime != null">&nbsp;&nbsp;&#8226;&nbsp;&nbsp;</span><span ng-bind="comm[ts].publishTime|date:'EEE, MMM dd'" ng-if="comm[ts].publishTime != null"></span></div></div><span ng-if="comm[ts].planId && comm[ts].planId > 0" class="cb-plus-ico cb-ico-premium" style="position: absolute;right: 0;top: -1px; width: 35px;height: 50px;background-position: -527px -5px;"></span></div></a></div><div class="cb-col cb-col-100 ng-scope" ng-if="comm[ts].evt == 'Plugin:comments'" style="padding:10px 10px 6px 5px; background: #E8F3FE ; border: 1px solid #CEE5FB ; border-radius: 3px; margin-bottom: 10px;"><div class="cb-col cb-col-8" style="padding-left:5px;"><img class="cb-auth-img" height="35" width="35" alt="" src="https://static.cricbuzz.com/a/img/v1/60x60/i1/c124293/harsha-bhogle.jpg"></div><div class="cb-col cb-col-90"><div><b ng-bind="comm[ts].headline+': '"></b><span ng-bind="comm[ts].content"></span></div><div style="padding-top:5px;"><a target="_blank" href="https://twitter.com/intent/tweet?url=http://www.cricbuzz.com{{match.get_match_url()}}&amp;text={{comm[ts].headline+': '+comm[ts].content | limitTo: 220}}{{comm[ts].content.length > 205 ? '...' : ''}}&amp;hashtags={{match.team1.shortName+'v'+match.team2.shortName}}&amp;via=cricbuzz" style="padding-right:15px;" rel="noreferrer"><div style="display:inline-block; vertical-align:text-top;"><span class="cb-twtr-blu cb-ico"></span></div><span class="cb-font-12 cb-text-link" style="margin-left: -2px;">Tweet</span></a> <a target="_blank" href="https://www.facebook.com/sharer.php?u=http://www.cricbuzz.com{{match.get_match_url()}}" style="padding-right:15px;" rel="noreferrer"><div style="display:inline-block; vertical-align:text-top;"><span class="cb-ico cb-fb-blu "></span></div><span class="cb-font-12 cb-text-link" style="margin-left: -4px;">Share</span></a><a onclmatchick="attach_recaptcha_js();modal_toggle('hys_modal', 'block');" class="ng-hide cb-cursor" style="padding-right:15px;"><div style="display:inline-block; vertical-align:text-top;"><span class="cb-ico cb-hys-logo"></span></div><span class="cb-font-12 cb-text-link" style="margin-left: 3px;">Reply</span></a></div></div></div></div></script> <script id="video-img" type="text/ng-template"> <div class="cb-pos-rel cm-video-img" style="cursor: pointer"><span ng-if="comm[ts].planId && comm[ts].planId > 0" class="cb-plus-ico cb-ico-premium" style="position: absolute; width: 35px;height: 50px;right: 0px;top: 0px;background-position: -527px -5px;"></span><img height="320px" width="100%" ng-if="!comm[ts].cbvideoImageId || comm[ts].cbvideoImageId === 0" class="lazy-loading ng-isolate-scope cb-disp-grid-center" alt="cricbuzz-video" style="border: 1px solid #ecebeb" title="cricbuzz-video" ng-src="https://static.cricbuzz.com/a/img/v1/569x320/i1/c158620/cricbuzz-video.jpg"><img height="320px" width="100%" ng-if="comm[ts].cbvideoImageId && comm[ts].cbvideoImageId > 0" class="lazy-loading ng-isolate-scope cb-disp-grid-center" alt="{{comm[ts].comm}}" style="border: 1px solid #ecebeb" title="{{comm[ts].comm}}" ng-src="https://static.cricbuzz.com/a/img/v1/569x320/i1/c{{comm[ts].cbvideoImageId}}/image.jpg"><div><div class="cb-cen cm-vid-ply-btn"><div ng-if="comm[ts].videoType == 'Fantasy Handbook'" class="cb-plus-ico cb-white-trophy-icon" style="scale: 1.2;"></div></div><div ng-if="comm[ts].videoType != 'Fantasy Handbook'" class="cm-vid-ply-icon"></div></div><span ng-if="comm[ts].isVideoLive && comm[ts].isVideoLive == 1" class="cb-vid-liv-icn" style="position:absolute;left:2px;top:2px;">LIVE</span></div></script> <a id="full_commentary_btn" href="Javascript:void(0);" ng-if="match.is_live_coverage &amp;&amp; match.currentInningsId != null &amp;&amp; !(match.currentInningsId == 0 &amp;&amp; match.commListLength < 20)" class="cb-col cb-col-100 cb-com-lod-mr ng-cloak" ng-click="fetch_commentary_pagination();">Load More Commentary</a> </div>



*/